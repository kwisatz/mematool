#
# OID prefix: 1.3.6.1.4.1.12461
#
# Attributes: 1.3.6.1.4.1.12461.1.1
#

attributetype ( 1.3.6.1.4.1.12461.1.1.1 NAME 'postfixTransport'
        DESC 'A string directing postfix which transport to use'
        EQUALITY caseExactIA5Match
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{20} SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.12461.1.1.2 NAME 'accountActive'
        DESC 'A boolean telling whether an account is active or not'
        EQUALITY booleanMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.7 SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.12461.1.1.3 NAME 'lastChange'
        DESC 'Time in unix time of last change in entry'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.27 SINGLE-VALUE )


# The following attributes are borrowed from Courier's schema so that
# the Jamm Schema can live on its own.

attributetype ( 1.3.6.1.4.1.12461.1.1.5 NAME 'mailbox'
        DESC 'The absolute path to the mailbox for a mail account in a non-default location'
        EQUALITY caseExactIA5Match
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.12461.1.1.6 NAME 'quota'
        DESC 'A string that represents the quota on a mailbox'
        EQUALITY caseExactIA5Match
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.12461.1.1.8 NAME 'maildrop'
        DESC 'RFC822 Mailbox - mail alias'
        EQUALITY caseIgnoreIA5Match
        SUBSTR caseIgnoreIA5SubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

attributetype ( 1.3.6.1.4.1.12461.1.1.9 NAME 'mailsource'
        DESC 'Message source'
        EQUALITY caseIgnoreIA5Match
        SUBSTR caseIgnoreIA5SubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

attributetype ( 1.3.6.1.4.1.12461.1.1.4 NAME 'mailalternateaddress'
        DESC 'RFC822 Mailbox - mail alias'
        EQUALITY caseIgnoreIA5Match
        SUBSTR caseIgnoreIA5SubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )


#
# Objects: 1.3.6.1.4.1.12461.1.2
#

objectclass ( 1.3.6.1.4.1.12461.1.2.1 NAME 'mailAccount'
        SUP top AUXILIARY
        DESC 'Mail account objects'
        MUST ( mail $ homeDirectory $ mailbox  )
        MAY ( uidNumber $ gidNumber $ uid $ cn ) )

objectclass ( 1.3.6.1.4.1.12461.1.2.2 NAME 'mailAlias'
        SUP top STRUCTURAL
        DESC 'Mail aliasing/forwarding entry'
        MUST ( mail $ maildrop ))

objectclass ( 1.3.6.1.4.1.12461.1.2.3 NAME 'mailDomain'
        SUP domain STRUCTURAL
        DESC 'Virtual Domain entry to be used with postfix transport maps'
        MUST ( dc )
        MAY ( postfixTransport $ description  ) )
#        SUP top STRUCTURAL
#       MUST ( jvd $ accountActive $ lastChange $ delete $ editAccounts $

objectClass ( 1.3.6.1.4.1.12461.1.2.4 NAME 'mailPostmaster'
        SUP top AUXILIARY
        DESC 'Added to a mailAlias to create a postmaster entry'
        MUST roleOccupant )
